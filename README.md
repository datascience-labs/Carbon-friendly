# 탄소 친화적 딥러닝 워크로드를 위한 시공간 이동 및 최적화 SW
팀 명 (팀원) : Carbon Watch ([박정현](https://github.com/jhparkland), [김대로](https://github.com/dhfgoeofh))

## 1. 프로젝트 소개

<div align='center'>
  
  ![image](https://github.com/jhparkland/Carbon-friendly/blob/main/intro.png)
  ##### 그림. 1 프로젝트 수행 배경 및 관련 연구 개요
  
</div>

#### 배경
##### LLMs과 같은 대규모 딥러닝으로 워크로드로부터 발생하는 방대한 탄소 배출량의 절감이 시급함[1]:  
- 대규모 AI는 방대한 전력을 소비하며, AI 학습을 위한 신규 장비 구매는 많은 비용 부담이 존재함[3-5].  
- 전세계적으로 분포된 클라우드는 지구 전체의 온실가스 증가에 1% 기여[3].  
##### 전력 생산자원과 날씨 및 시간에 따라 발생되는 탄소 강도(Carbon Intensity)의 차이는[2] 중요함:   
- 24시 평균 탄소 강도* 비교 시 한국-375g/kWh, 프랑스-75g/kWh, 독일-514g/kWh 차이 발생    
  *탄소 강도: 1kWh의 전기를 생산하기 위해 방출되는 CO2의 양을 측정한 것이며, 전력 생산자원에 따라 차이가 발생함.

#### 기존 연구
##### 대부분의 마이그레이션 연구는 비용 감소[3,4-5], 전력 소비량 감소[6], 성능[3,7-9]을 위해 진행됨:   
- 비용 감소: 비용과 지연시간 간의 균형을 위한 강화학습 기반의 마이그레이션 방법[16-18]
-전력 소비량 감소: 전기 가격 변동성과 함께 최적화 기법을 적용해 마이그레이션 결정 여부 채택[19]
- 네트워크 대역폭: 유휴 네트워크 대역폭을 활용한 알고리즘[20-22]
- 지연시간: 강화학습 기반의 지연시간 단축 알고리즘[16]
- 모바일 기기의 하드웨어 성능 제약:복잡한 계산이 필요한 작업을 클라우드 서버로 이동하는 방법[21]■ 최근 탄소인지 작업 마이그레이션 연구가[10-18] 일부 있으나, 딥러닝 학습의 재현성 유지는 어려움:  - 작업 분배 및 냉각 장비의 공급 온도에 따라 최적의 지역에 마이그레이션 결정하는 방법[23]
- Service Level Agreement 기반의 마이그레이션과 시공간적 탄소 강도를 이용한 방법이 존재[24]


## 2. 분산된 클라우드에서 딥러닝 워크로드의 탄소 인지 이동 및 전력 최적화 기술
<div align='center'>
  
  ![image](https://github.com/jhparkland/Carbon-friendly/blob/main/method.png)
  ##### 그림. 2 제안하는 기술의 개념도
  
</div>

CAFTM은 스케일링, 관용, 중지, 마이그레이션의 네 가지 절차적 상태를 통해 작동한다.  
스케일링 상태에서 관용 상태로의 전환이 반복적으로 작동하여 탄소 강도가 임계점 이하로 유지되는 동시에 GPU 전력 소비를 최적화 한다.  
탄소 집약도가 임계점을 초과하면 중지 상태로 전환하고, 탄소 강도가 더 낮은 클라우드 위치로 마이그레이션하는 체크포인트를 시작한다. 해당 체크포인트는 마이그레이션 후 작업 재개를 용이하게 하며, 스케일링 상태로 재가동 된다.   

## 4. 결과
![image](https://github.com/jhparkland/Carbon-friendly/assets/86312443/6ddf9cd1-1331-4119-8f62-ae8cd8bce969)


## 5. 성과

- 동아대학교 컴퓨터AI공학부 졸업작품 전시회(FairDay) 최우수 수상 작품. 
- IJCNN 2024 투고완료
